<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Puppet Class: sysctl::initrd
  
    &mdash; Documentation by YARD 0.9.12
  
</title>

  <link rel="stylesheet" href="../css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="../css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  pathId = "puppet_classes::sysctl::initrd";
  relpath = '../';
</script>


  <script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../puppet_class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../_index.html">Index (s)</a> &raquo;
    <span class='title'><span class='object_link'>Puppet Classes</span></span>
     &raquo; 
    <span class="title">sysctl::initrd</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="puppet_class_list_link"
        href="../puppet_class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Puppet Class: sysctl::initrd</h1>
<div class="box_info">
  
  
  <dl>
    <dt>Defined in:</dt>
    <dd>
      manifests/initrd.pp
    </dd>
  </dl>
</div>

<h2>Overview</h2>
<div class="docstring">
  <div class="discussion">
    
<p>Sysctl::initrd</p>

<p>Puppet types an providers are currently unable to batch operations. Easiest
way to make sure the initrd is only updated once is therefore to put
something in the catalogue and refer to it which leads to this workaround.
Make sure to include this class to satisfy the redhat requirement to
rebuild the initrd when sysctl settings change.</p>

  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>rebuild_initrd_cmd</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>&quot;/usr/sbin/dracut -v -f&quot;</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>Command to run to rebuild initrd</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>enabled</span>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>true</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>Set <code>false</code> to disable the initrd rebuild</p>
</div>
      
    </li>
  
</ul>


  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><a href="https://access.redhat.com/solutions/2798411" target="_parent" title="https://access.redhat.com/solutions/2798411">https://access.redhat.com/solutions/2798411</a></li>
    
  </ul>

</div><div class="method_details_list">
  <table class="source_code">
    <tr>
      <td>
        <pre class="lines">


12
13
14
15
16
17
18
19
20
21
22
23
24
25</pre>
      </td>
      <td>
        <pre class="code"><span class="info file"># File 'manifests/initrd.pp', line 12</span>

class sysctl::initrd(
  String  $rebuild_initrd_cmd = &quot;/usr/sbin/dracut -v -f&quot;,
  Boolean $enabled            = true,
) {

  if $enabled {
    exec { &quot;sysctl_rebuild_initrd&quot;:
      command     =&gt; $rebuild_initrd_cmd,
      refreshonly =&gt; true,
    }

    Sysctl &lt;||&gt; ~&gt; Exec[&quot;sysctl_rebuild_initrd&quot;]
  }
}</pre>
      </td>
    </tr>
  </table>
</div>
</div>

      <div id="footer">
     Generated by <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>.
</div>

    </div>
  </body>
</html>